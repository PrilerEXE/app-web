<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Открытие Кейсов</title>
</head>
<body>
    <h1>Откройте кейс и выиграйте приз!</h1>
    <button onclick="openCase()">Открыть кейс</button>
    <p id="result"></p>

<script>
    async function openCase() {
        const prizes = ['Приз 1', 'Приз 2', 'Приз 3', 'Приз 4'];
        const result = prizes[Math.floor(Math.random() * prizes.length)];
        document.getElementById('result').innerText = `Ваш выигрыш: ${result}`;

        if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
            console.log("Отправка данных в бота:", result); // Логирование отправки
            await Telegram.WebApp.sendData(result); // Используем await
        } else {
            console.log("WebApp API недоступен. Запустите приложение внутри Telegram.");
        }
    }
</script>

</body>
</html>
